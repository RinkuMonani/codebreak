{"version":3,"sources":["webpack://code-breaker/./src/js/arena.js"],"names":["elements","themeImage","document","querySelector","contentCover","content","navigationMenu","header","startButton","resetButton","playAgainButton","submitButton","gameArena","gameForm","gameInputFormList","correctAns","gameStats","gameLevel","gameScore","gameChance","gameCode","remove","el","style","display","show","appear","opacity","updateStats","textContent","initGameArena","innerHTML","limit","alert","window","location","i","markup","insertAdjacentHTML","focus","generateCode","length","code","parseInt","Math","random","find","push","setTimeout","submitEvent","values","Array","from","querySelectorAll","forEach","index","v","value","getGameFormValues","result","gameInput","num","validateGameInput","console","log","showCorrectAns","element","classList","add","displayHints","playAgainEvent","addEventListener","reset","event","getComputedStyle","getPropertyValue","el_margin","marginRight","slideFromRight","marginLeft","slideFromLeft"],"mappings":"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","file":"js/arena.bundle.js","sourcesContent":["const elements = {\r\n    themeImage: document.querySelector('.theme-image'),\r\n    contentCover: document.querySelector('.content-cover'),\r\n    content: document.querySelector('.content'),\r\n    navigationMenu: document.querySelector('.navigation-menu'),\r\n    header: document.querySelector('.header'),\r\n    startButton: document.querySelector('.start-button'),\r\n    resetButton: document.querySelector('.reset-button'),\r\n    playAgainButton: document.querySelector('.play-again-button'),\r\n    submitButton: document.querySelector('.submit-button'),\r\n    gameArena: document.querySelector('.game-arena'),\r\n    gameForm: document.querySelector('.gameForm'),\r\n    gameInputFormList: document.querySelector('.game-input-form-list'),\r\n    correctAns: document.querySelector('.correct-ans')\r\n}\r\n\r\nconst gameStats = {\r\n    gameLevel:1,\r\n    gameScore:0,\r\n    gameChance:0,\r\n}\r\nlet gameCode = [];\r\nlet limit = 6;\r\n\r\nconst remove = el => {\r\n    el.style.display = 'none';\r\n}\r\nconst show = (el, display='inline-block') => {\r\n    el.style.display = display;\r\n}\r\nconst slideFromLeft = (el, el_margin=0) =>{\r\n    el.style.marginLeft = el_margin;\r\n}\r\n\r\nconst slideFromRight = (el, el_margin=0) =>{\r\n    el.style.marginRight = el_margin;\r\n}\r\n\r\nconst appear = el => {\r\n    el.style.opacity = \"1\";\r\n}\r\n\r\nconst displayThemeImage = el => {\r\n    slideFromRight(elements.themeImage);\r\n}\r\n\r\nconst displaycontentCover = () => {\r\n    // slideFromRight(elements.mainPageContent);\r\n    appear(elements.contentCover);\r\n    appear(elements.navigationMenu);\r\n    slideFromLeft(elements.header);\r\n}\r\n\r\nconst init = () => {\r\n    displayThemeImage();\r\n    displaycontentCover();\r\n    remove(elements.playAgainButton);\r\n}\r\n\r\nconst updateStats = () => {\r\n    \r\n    // const gameNum = document.querySelector('.num');\r\n    const gameScore = document.querySelector('.score');\r\n    const gameLevel = document.querySelector('.level');\r\n    const gameChance = document.querySelector('.chance');\r\n\r\n    // gameNum.textContent = gameStats.gameNum;\r\n    gameScore.textContent = gameStats.gameScore;\r\n    gameLevel.textContent = gameStats.gameLevel;\r\n    gameChance.textContent = gameStats.gameChance;\r\n\r\n}\r\n\r\nconst showCorrectAns = () => {\r\n    \r\n    elements.correctAns.innerHTML = '';\r\n\r\n    for(let i=1; i<=limit - gameStats.gameLevel; ++i){\r\n        const markup = `<li>${gameCode[i-1]}</li>`;\r\n\r\n        elements.correctAns.insertAdjacentHTML('beforeend',markup);\r\n    }\r\n}\r\nconst initGameArena = () => {\r\n\r\n    elements.gameInputFormList.innerHTML = '';\r\n\r\n    if(gameStats.gameLevel > limit-1){\r\n        alert(\"You have completed all levels! Share this game with you friends and let them enjoy too!\");\r\n        window.location = \"index.html\"\r\n    }\r\n    for(let i=1; i<=limit - gameStats.gameLevel; ++i){\r\n        const markup = `<li id=\"game-input-${i}\"><input maxlength=1 class=\"game-input\" type=\"text\" placeholder='X'></li>`;\r\n\r\n        elements.gameInputFormList.insertAdjacentHTML('beforeend',markup)\r\n\r\n        if(i == 1){\r\n            document.querySelector('.game-input').focus();\r\n        }\r\n\r\n    }\r\n    updateStats();\r\n\r\n}\r\n\r\n\r\n\r\nconst setUpGameArena = () => {\r\n    // display game-arena\r\n    elements.gameArena.classList.remove('hide');\r\n    elements.gameArena.classList.add('display');\r\n\r\n    initGameArena();\r\n\r\n}\r\n\r\nconst getGameFormValues = () => {\r\n    let values = []\r\n\r\n    const els = Array.from(document.querySelectorAll('.game-input'));\r\n    \r\n    els.forEach((el, index) => {\r\n        const v = parseInt(el.value);\r\n        if(v >= 0 && v <= 9)\r\n            values.push(v);\r\n        else \r\n            return -1;\r\n    });\r\n\r\n    return values;\r\n}\r\n\r\nconst generateCode = () => {\r\n    gameCode = [];\r\n\r\n    while(gameCode.length < limit - gameStats.gameLevel){\r\n        const code = parseInt(Math.random()*(9)+0);\r\n        const temp = gameCode.find(el => el == code);\r\n        if(!temp){\r\n            gameCode.push(code);\r\n        }\r\n    }\r\n\r\n    // display message\r\n    setTimeout(()=>alert(\"Code has been generated. You shall begin!\"), 500);\r\n}\r\n\r\nconst validateGameInput = gameInput => {\r\n    const result = []\r\n\r\n    let i=0;\r\n\r\n    gameInput.forEach((el, index) => {\r\n        if(el === gameCode[index]){\r\n            result.push(1);\r\n            i++;\r\n        }\r\n        else if(gameCode.find(num => num === el)){\r\n            result.push(-1);\r\n        }\r\n        else result.push(0);\r\n    });\r\n\r\n    \r\n    if(i == gameCode.length) result.push(100);\r\n\r\n    return result;\r\n}\r\n\r\nconst displayHints = result => {\r\n    result.forEach((el, index) => {\r\n        const element = document.querySelector(`#game-input-${index+1}`);\r\n        \r\n        element.classList.remove(...element.classList);\r\n\r\n        if(el === 0){\r\n            element.classList.add('incorrect');    \r\n        }\r\n        else if(el === 1){\r\n            element.classList.add('correct');    \r\n        }\r\n        else{\r\n            element.classList.add('partially-correct');    \r\n        }\r\n    });\r\n}\r\n\r\nconst submitEvent = () => {\r\n\r\n        // get input values\r\n        const values = getGameFormValues();\r\n\r\n        gameStats.gameChance += 1;\r\n        \r\n        updateStats();\r\n\r\n        if(values.length < limit - gameStats.gameLevel){\r\n            if(gameStats.gameChance == limit - gameStats.gameLevel){\r\n                alert(\"You are not the one! YET.\"); \r\n                gameStats.gameScore = 0;\r\n                gameStats.gameLevel = 1;\r\n                gameStats.gameChance = 0;\r\n                initGameArena();\r\n            }\r\n            else\r\n                alert(\"Invalid Values. Try Again.\");\r\n        }\r\n        else{\r\n            const result = validateGameInput(values);\r\n        \r\n            if(result.length > gameCode.length){\r\n                // display win message\r\n                alert(\"You won!\");\r\n                gameStats.gameChance = 0;\r\n                gameStats.gameLevel += 1;\r\n                gameStats.gameScore += 10;\r\n                initGameArena();\r\n\r\n                generateCode();\r\n                console.log(gameCode);\r\n            }\r\n            else{\r\n                if(gameStats.gameChance == limit - gameStats.gameLevel){\r\n                    alert(\"You are not the one! YET.\");\r\n                    gameStats.gameChance = 0;\r\n        \r\n                    remove(elements.resetButton);\r\n                    remove(elements.submitButton);\r\n                    show(elements.playAgainButton);\r\n\r\n                    // display correct ans\r\n                    showCorrectAns();\r\n                }\r\n                else{\r\n                    alert(\"Try Again.\");\r\n\r\n                    // display hints\r\n                    displayHints(result);\r\n                }\r\n                    \r\n            }\r\n    \r\n        }\r\n\r\n        // pass to judge, get result\r\n\r\n        // display result status if won/lose\r\n\r\n        // display hint\r\n\r\n        // initGameArena();\r\n}\r\n\r\nconst playAgainEvent = () =>{\r\n    generateCode();\r\n        initGameArena();\r\n        remove(elements.playAgainButton);\r\n        show(elements.submitButton);\r\n        show(elements.resetButton);\r\n        remove(elements.correctAns);\r\n}\r\nconst addingEventListners = () => {\r\n    \r\n    elements.startButton.addEventListener('click', ()=>{\r\n        // console.log(\"start\");\r\n        // hide content\r\n        elements.content.classList.remove('display');\r\n        elements.content.classList.add('hide');\r\n\r\n        // set up arena\r\n        setUpGameArena();\r\n\r\n        // generateCode\r\n        generateCode();\r\n        console.log(`code: `)\r\n        console.log(gameCode);\r\n    });\r\n\r\n    elements.resetButton.addEventListener('click', () => {\r\n        elements.gameForm.reset();\r\n    });\r\n\r\n    elements.submitButton.addEventListener('click', () => {\r\n       submitEvent();\r\n    });\r\n\r\n    elements.playAgainButton.addEventListener('click', () => {\r\n        playAgainEvent();\r\n    });\r\n\r\n    document.addEventListener('keypress', (event)=>{ \r\n        if(event.code === 'Enter'){\r\n            if (window.getComputedStyle(elements.playAgainButton, null).getPropertyValue(\"display\") === 'none'){\r\n                submitEvent();\r\n            }\r\n            else playAgainEvent();\r\n        }\r\n    }); \r\n}\r\n\r\naddingEventListners();\r\ninit();\r\n\r\n"],"sourceRoot":""}